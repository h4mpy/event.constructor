(function(e){function t(t){for(var s,l,o=t[0],c=t[1],a=t[2],u=0,d=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);f&&f(t);while(d.length)d.shift()();return n.push.apply(n,a||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,o=1;o<i.length;o++){var c=i[o];0!==r[c]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=i[0]))}return e}var s={},r={app:0},n=[];function l(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=s,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(i,s,function(t){return e[t]}.bind(null,s));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/event.constructor/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var f=c;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var s=i("64a9"),r=i.n(s);r.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"summer"},[i("div",{staticClass:"container offer__block offset-bottom"},[e._m(0),e._l(e.offerblocks,(function(e){return i("OfferList",{key:e.id,attrs:{offerlist:e}})})),i("OfferTotal"),e._m(1)],2)])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-slim offset-top"},[i("div",{staticClass:"offset-bottom"},[i("h2",{staticClass:"mt-0"},[e._v("О программе")]),i("p",[i("b",[e._v("Инструкция по сборке:")])]),i("ol",{staticClass:"list-styled"},[i("li",[e._v("\n            Выберите свое главное развлечение в пункте 1 (Большое веселье) –\n            это будет основа вашей программы.\n          ")]),i("li",[e._v("\n            Отметьте в пункте 2 то, чем бы вам хотелось заняться после\n            окончания основного действа.\n          ")]),i("li",[e._v("\n            В пункте 3 вам предстоит из всего многообразия выбрать четыре\n            аттракциона, которые вызвали ваш наибольший интерес.\n          ")]),i("li",[e._v("\n            Вспоминаем о том, что нужно подкрепиться, а значит выбираем обед\n            из двух предложенных вариантов.\n          ")])]),i("p",{staticClass:"mb-0"},[e._v("\n          В финальном разделе указаны бонусы от парка, которые вы\n          гарантированно получите, собрав наш Выпускной конструктор.\n        ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-slim offset-top"},[i("div",{staticClass:"offset-bottom"},[i("h2",{staticClass:"mt-0"},[e._v("Конструктор собран, что же на выходе?")]),i("p",[e._v("\n          По приезду выпускников встретит сопровождающий и отведет на перекус.\n          Затем он будет сопровождать гостей по всем выбранным вами видам\n          развлечений, отведет на обед, организует посещение аттракционов.\n        ")]),i("p",[e._v("\n          Выпускная фотозона с профессиональным фотографом будет в полном\n          распоряжении выпускников в течение получаса (эти полчаса так же\n          организует сопровождающий). После выпускного вы получите ссылку на\n          скачивание фотографий в электронном виде.\n        ")]),i("p",[e._v("В финале каждый выпускник поручит памятный подарок.")]),i("p",{staticClass:"mb-0"},[e._v("\n          Вся программа, начиная с встречи и до финального вручения подарков,\n          длится 5 часов.\n        ")])])])}],l=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),o=i("2f62"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"offerlist_"+e.offerlist.id}},[i("div",{staticClass:"container-slim"},[i("h2",{staticClass:"mt-0 rel"},[i("span",{staticClass:"h2-num"},[e._v(e._s(e.offerlist.id))]),e._v(e._s(e.offerlist.title)+"\n      "),""!==e.offerlist.length?i("span",{staticClass:"h2-descr"},[e._v(e._s(e.offerlist.length))]):e._e()])]),i("div",{staticClass:"offer__holder"},[i("div",{staticClass:"offer-list"},[i("div",{staticClass:"offer-list__header"},[i("div",{staticClass:"offer-list__title offer-list__title_head"},[e._v("\n          "+e._s(e.offerlist.description)+"\n        ")])]),i("div",{staticClass:"offer-list__holder"},e._l(e.getOffers(e.offerlist.id),(function(t){return i("Offer",{key:t.id,attrs:{offer:t,section:e.offerlist.id}})})),1)])])])},a=[],f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"offer-list__item",class:{selected:e.offer.isSelected,selectable:e.offer.isSelectable},on:{click:e.selectField}},[i("span",{staticClass:"checkbox-block"},[i("span",{staticClass:"checkbox-block__icon"},[i("svg",{attrs:{"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 600 600",version:"1.0"}},[i("path",{staticStyle:{fill:"#f24841","fill-opacity":"1","fill-rule":"evenodd",stroke:"#000000","stroke-width":"0","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},attrs:{d:"M 25.257828,388.61333 L 150.45625,554.27704 C 187.80366,592.27704 230.15106,592.27704 244.49846,554.27704 C 304.95799,413.59515 467.18948,152.15947 574.3879,75.207333 C 603.02112,44.393193 556.09708,2.2137629 520.0424,22.567643 C 442.55598,59.297633 219.55415,375.7357 190.73563,465.21994 L 95.906641,334.51412 C 61.357035,284.54719 -7.1925678,340.58026 25.257828,388.61333 z "}})])]),i("span",{staticClass:"checkbox-block__text"},[e.offer.isSelectable?i("span",{staticClass:"dotted-link"},[e._v("\n        "+e._s(e.offer.isSelected?"Снять выбор":"Выбрать")+"\n      ")]):e._e()])]),i("div",{staticClass:"offer-list__title"},[i("div",{staticClass:"offer-list__item-title"},[e._v(e._s(e.offer.title))]),""!==e.offer.description?i("div",{staticClass:"offer-list__item-description"},[e._v("\n      "+e._s(e.offer.description)+"\n    ")]):e._e()])])},u=[],d={name:"Offer",props:["offer","section"],methods:{selectField:function(){this.offer.isSelectable&&(this.offer.isSelected?this.$store.dispatch("removeItem",{item:this.offer.id,section:this.section}):this.$store.dispatch("addItem",{item:this.offer.id,section:this.section}))}}},p=d,m=i("2877"),b=Object(m["a"])(p,f,u,!1,null,null,null),v=b.exports;function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(i,!0).forEach((function(t){Object(l["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var S={name:"OfferList",props:["offerlist"],computed:_({},Object(o["b"])(["offerItems"])),methods:{getOffers:function(e){return this.offerItems(e)}},components:{Offer:v}},g=S,O=Object(m["a"])(g,c,a,!1,null,null,null),y=O.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"offer-total"},[i("div",{staticClass:"container-slim"},[i("h2",{staticClass:"mt-0 rel"},[e._v("Итого")]),i("div",{staticClass:"columns"},[i("div",{staticClass:"column col-6 md-col-12"},[e.isOfferLeftToSelect?i("div",{staticClass:"p"},[e._m(0),e._l(e.offerLeftToSelect,(function(e,t){return i("SelectedLeft",{key:t,attrs:{offer:e}})}))],2):e._e(),e.isOffersSelected?i("div",{staticClass:"p"},[e._m(1),e._l(e.offerSelected,(function(e,t){return i("SelectedString",{key:t,attrs:{offer:e}})})),i("b",[e._v("Подарки от парка")])],2):e._e()]),i("div",{staticClass:"column col-6 md-col-12"},[e._m(2),i("p",{staticClass:"total-price"},[i("StringChanger",{attrs:{newstring:e.singlePriceFormated,measure:"руб./чел."}})],1),i("p",{staticClass:"important"},[i("b",[e._v("Количество участников")]),e._v(" (не менее "+e._s(e.min)+"):\n        ")]),i("div",{staticClass:"p"},[i("InputNumber",{attrs:{value:e.min,min:e.min,loading:e.isLoading}})],1),e._m(3),i("p",{staticClass:"total-price total-price_big"},[i("StringChanger",{attrs:{newstring:e.totalPriceFormated,measure:"руб."}})],1),i("p",{staticClass:"tital-price__button"},[i("button",{staticClass:"button button-red button-regular button-medium",class:{disabled:e.isOfferLeftToSelect,loading:e.isLoading},attrs:{disabled:e.isOfferLeftToSelect},on:{click:e.order}},[e._v("\n            Оформить заявку\n          ")])])])])])])},j=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"important"},[i("b",[e._v("Для оформления заявки осталось выбрать: ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"important"},[i("b",[e._v("Вы выбрали: ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"important"},[i("b",[e._v("Стоимость программы:")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"important"},[i("b",[e._v("Общая стоимость:")])])}],w=(i("6b54"),i("a481"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:"#offerlist_"+e.offer.id,offset:-40},expression:"{ el: '#offerlist_' + offer.id, offset: -40 }"}],staticClass:"pseudo",attrs:{href:"#"}},[e._v(e._s(e.offer.title))]),!0===e.offer.multiple?i("span",[e._v(" ("+e._s(e.offer.left)+" шт.)")]):e._e()])}),k=[],x={name:"SelectedLeft",props:["offer"]},P=x,I=Object(m["a"])(P,w,k,!1,null,null,null),E=I.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b",[e._v(e._s(e.offer.title))]),e._v(": "+e._s(e.selectedItems)+"\n")])},$=[],T={name:"SelectedString",props:["offer"],computed:{selectedItems:function(){var e=[],t=this.offer.items;for(var i in t)if(t.hasOwnProperty(i)){var s=t[i].title;t[i].description&&(s+=" ("+t[i].description+")"),e.push(s)}return e.join(", ")}}},N=T,D=Object(m["a"])(N,L,$,!1,null,null,null),V=D.exports;function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function F(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(i,!0).forEach((function(t){Object(l["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var B={name:"OfferTotal",data:function(){return{isLoading:!1}},components:{SelectedLeft:E,SelectedString:V},computed:F({},Object(o["c"])(["min","price","totalcount"]),{},Object(o["b"])(["offerSelected","offerLeftToSelect"]),{singlePriceFormated:function(){return this.formatNumber(this.price)},totalPriceFormated:function(){return this.formatNumber(this.price*this.totalcount)},isOffersSelected:function(){return this.offerSelected.length>0},isOfferLeftToSelect:function(){return this.offerLeftToSelect.length>0}}),methods:{formatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},order:function(){var e=this;this.isLoading=!0,setTimeout((function(){alert("Имитация ответа сервера"),e.isLoading=!1}),2e3)}}},J=B,z=Object(m["a"])(J,C,j,!1,null,null,null),A=z.exports;function q(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?q(i,!0).forEach((function(t){Object(l["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):q(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var H={name:"app",components:{OfferList:y,OfferTotal:A},computed:G({},Object(o["c"])(["offerblocks"]))},K=H,Q=(i("034f"),Object(m["a"])(K,r,n,!1,null,null,null)),R=Q.exports;s["a"].use(o["a"]);var U=new o["a"].Store({state:{offerblocks:{1:{id:1,title:"Большое веселье",length:"1,5 часа",description:"Выберите 1 из программ",max:1,min:1,offers:[100,101,102],isSelectable:!0},2:{id:2,title:"Малое веселье",length:"1,5 часа",description:"Выберите 1 из забав",max:1,min:1,offers:[200,201,202,203],isSelectable:!0},3:{id:3,title:"Аттракционы",length:"1 час",description:"Выберите любые 4",max:4,min:1,offers:[300,301,302,303,304,305,306,307,308,309],isSelectable:!0},4:{id:4,title:"Обед",length:"30 минут",description:"Выберите 1 из комплексов",max:1,min:1,offers:[400,401],isSelectable:!0},5:{id:5,title:"Подарок от парка",length:"",description:"Все подарки уже включены",max:3,min:3,offers:[500,501,502],isSelectable:!1}},offers:{100:{id:100,title:"Квест «Настоящий детектив»",isSelected:!1,isSelectable:!0},101:{id:101,title:"Пейнтбольный турнир",isSelected:!1,isSelectable:!0},102:{id:102,title:"Приключение на грузовике",isSelected:!1,isSelectable:!0},200:{id:200,title:"Сумогонки",isSelected:!1,isSelectable:!0},201:{id:201,title:"Стрелковое сафари",isSelected:!1,isSelectable:!0},202:{id:202,title:"Большая тарзанка",isSelected:!1,isSelectable:!0},203:{id:203,title:"Спорт-лайт",isSelected:!1,isSelectable:!0},300:{id:300,title:"Колеса надувные",isSelected:!1,isSelectable:!0},301:{id:301,title:"Батут-лиана",isSelected:!1,isSelectable:!0},302:{id:302,title:"Зорб на воде",isSelected:!1,isSelectable:!0},303:{id:303,title:"Тарзанка малая",isSelected:!1,isSelectable:!0},304:{id:304,title:"Сузуки самурай",isSelected:!1,isSelectable:!0},305:{id:305,title:"Багги",isSelected:!1,isSelectable:!0},306:{id:306,title:"Тир пневматика",isSelected:!1,isSelectable:!0},307:{id:307,title:"Тир арбалетный",isSelected:!1,isSelectable:!0},308:{id:308,title:"Родео на быке",isSelected:!1,isSelectable:!0},309:{id:309,title:"Прыжок на канатном городе",isSelected:!1,isSelectable:!0},400:{id:400,title:"Комплекс 1",description:"Картофель фри 150 гр; Шашлык из курицы филе 150 гр; Морс 200 мл; Блины со сгущенкой 2 шт",isSelected:!1,isSelectable:!0},401:{id:401,title:"Комплекс 2",description:"Картофель фри 150 гр; Колбаски «Пикник» 2 шт; Морс 200 мл; Блины со сгущенкой 2 шт",isSelected:!1,isSelectable:!0},500:{id:500,title:"Перекус по прибытию в Парк",isSelected:!0,isSelectable:!1},501:{id:501,title:"Фотозона с фотографом (цифровые фото по ссылке)",isSelected:!0,isSelectable:!1},502:{id:502,title:"Вручение подарков",isSelected:!0,isSelectable:!1}},min:22,totalcount:22,price:3500},mutations:{selectItem:function(e,t){s["a"].toasted.clear(),e.offers[t].isSelected=!0},deselectItem:function(e,t){s["a"].toasted.clear(),e.offers[t].isSelected=!1},changeCount:function(e,t){e.totalcount=parseInt(t)}},actions:{addItem:function(e,t){var i=e.commit,r=this.state.offerblocks[t.section];if(r){var n=this.getters.offerItems(t.section).filter((function(e){return!0===e.isSelected}));r.min===r.max&&1===r.min?(n.length>0&&n.forEach((function(e){i("deselectItem",e.id)})),i("selectItem",t.item)):n.length<r.max?i("selectItem",t.item):0===s["a"].toasted.toasts.length&&s["a"].toasted.show("Вы уже выбрали максимум. Для отмены выбранного варианта нажмите на него еще раз",{theme:"bubble",position:"top-center",className:"custom-toast",duration:7e3,action:{text:"×",onClick:function(e,t){t.goAway(0)}}})}},removeItem:function(e,t){var i=e.commit;i("deselectItem",t.item)},changeCount:function(e,t){var i=e.commit;i("changeCount",t)}},getters:{offerItems:function(e){return function(t){return e.offerblocks[t].offers.map((function(t){return e.offers[t]}))}},offerItemsSelected:function(e,t){return function(e){return t.offerItems(e).filter((function(e){return!0===e.isSelected&&!0===e.isSelectable}))}},offerSelected:function(e,t){var i=[];for(var s in e.offerblocks)if(e.offerblocks.hasOwnProperty(s)){var r=t.offerItemsSelected(s);r.length>0&&i.push({title:e.offerblocks[s].title,items:r})}return i},offerLeftToSelect:function(e,t){var i=[];for(var s in e.offerblocks)if(e.offerblocks.hasOwnProperty(s)&&e.offerblocks[s].isSelectable){var r=t.offerItemsSelected(s);r.length<e.offerblocks[s].max&&i.push({id:e.offerblocks[s].id,title:e.offerblocks[s].title,left:parseInt(e.offerblocks[s].max)-r.length,multiple:e.offerblocks[s].max>1})}return i}}}),W=i("a65d"),X=i.n(W),Y=i("f13c"),Z=i.n(Y),ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{style:e.styleObject},[i("span",{class:{yeseva:e.isPrice}},[e._v(" "+e._s(e.current)+" ")]),e._v("\n  "+e._s(e.isPrice?e.measure:""))])},te=[],ie=(i("c5f6"),{name:"StringChanger",data:function(){return{current:this.newstring,timeout:null,styleObject:{transition:"opacity "+parseInt(this.speed)/1e3+"s ease",opacity:1},isPrice:""!==this.measure}},props:{newstring:{type:String,default:""},speed:{type:Number,default:150},measure:{type:String,default:""}},watch:{newstring:function(e){if(clearTimeout(this.timeout),e!==this.current){this.styleObject.opacity=0;var t=this;this.timeout=setTimeout((function(){t.current=e,t.styleObject.opacity=1}),this.speed)}}}}),se=ie,re=Object(m["a"])(se,ee,te,!1,null,null,null),ne=re.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"offer-value offer-value_big flex"},[i("div",{staticClass:"offer-value-button minus",class:{disabled:e.isMin||e.loading},on:{click:e.decreaseNumber}}),i("input",{staticClass:"offer-value-input",attrs:{type:"number",disabled:e.loading,min:e.min,max:e.max},domProps:{value:e.numericValue},on:{keypress:e.validateInput,input:e.inputValue}}),i("div",{staticClass:"offer-value-button plus",class:{disabled:e.isMax||e.loading},on:{click:e.increaseNumber}})])},oe=[],ce={name:"InputNumber",data:function(){return{numericValue:this.value}},computed:{isMin:function(){return this.numericValue<=this.min},isMax:function(){return this.numericValue>=this.max}},props:{value:{type:Number,default:0},min:{default:0,type:Number},max:{default:100,type:Number},loading:{default:!1,type:Boolean}},methods:{increaseNumber:function(){this.isMax||this.loading||(this.numericValue+=1)},decreaseNumber:function(){this.isMin||this.loading||(this.numericValue-=1)},isInteger:function(e){e=e||window.event;var t=e.keyCode||e.which;t=String.fromCharCode(t);var i=/[0-9]/;i.test(t)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())},validateInput:function(e){this.isInteger(e)},inputValue:function(e){this.loading||(this.numericValue=e.target.value?parseInt(e.target.value):this.min)}},watch:{numericValue:function(e){var t=e;e<=this.min&&(t=parseInt(this.min)),e>=this.max&&(t=parseInt(this.max),this.numericValue=parseInt(this.max)),this.$store.dispatch("changeCount",t)}}},ae=ce,fe=Object(m["a"])(ae,le,oe,!1,null,null,null),ue=fe.exports;s["a"].use(Z.a),s["a"].use(X.a),s["a"].config.productionTip=!1,s["a"].component("StringChanger",ne),s["a"].component("InputNumber",ue),new s["a"]({store:U,render:function(e){return e(R)}}).$mount("#app")},"64a9":function(e,t,i){}});
//# sourceMappingURL=app.1599208c.js.map